{% extends 'admin.html.twig' %}

{% block title %}Edit TipoUsuario{% endblock %}

{% block body %}
    <div class="page-header">
        <div class="row">
            <div class="col-sm-6"><h1 style="margin: 0;vertical-align: middle;line-height: 30px;font-size: 29px"><span
                            class="text-muted font-weight-light">Controle de Tipo de Usuário / </span>Editar
                    Tipo de Usuário</h1></div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-sm-12">
            <div class="panel">
                {{ form_start(form) }}
                <div class="panel-body">
                    {{ form_widget(form) }}
                </div>
                <div class="panel-footer">
                    <a class="btn btn-default" href="{{ path('tipo_usuario_index') }}">Voltar à lista</a>
                    <button type="submit" class="btn btn-primary">{{ button_label|default('Salvar') }}</button>
                    <a id="delete-button" class="btn btn-danger">Excluir</a>
                </div>
            </div>
        </div>
    </div>
    {{ form_end(form) }}

    <form id="delete-form" method="post" action="{{ path('tipo_usuario_delete', {'idtipoUsuario': tipo_usuario.idtipoUsuario}) }}">
        <input type="hidden" name="_method" value="DELETE">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ tipo_usuario.idtipoUsuario) }}">
{#        <button class="btn">Delete</button>#}
    </form>

    <script>
        document.getElementById('delete-button').onclick = function () {
            swal.fire({
                title: 'Você tem certeza que quer excluir o registro?',
                text: 'Não será possível recuperar o registro posteriormente!',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#5cb85c',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Sim, exclua!',
                cancelButtonText: 'Não, cancele!',
                reverseButtons: true
            }).then((result) => {
                if (result.isConfirmed) {
                    $('#delete-form').submit();
                    Swal.fire(
                        'Excluído!',
                        'Seu arquivo foi excluído.',
                        'success'
                    );
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    Swal.fire(
                        'Cancelado!',
                        'Seu registro está seguro :)',
                        'error'
                    );
                }
            });
        };
    </script>

    {#    {{ include('tipo_usuario/_form.html.twig', {'button_label': 'Update'}) }}#}

    {#    <a href="{{ path('tipo_usuario_index') }}">back to list</a>#}

{#    {{ include('tipo_usuario/_delete_form.html.twig') }}#}
{% endblock %}
